version: "2.1"

services:
  zoo1:
    image: zookeeper:3.5
    container_name: zoo1
    restart: always
    hostname: zoo1
    ports:
       - "2181:2181"
  kafka:
    image: trellisldp/kafka
    container_name: kafka
    ports:
      - "9092:9092"
    environment:
      KAFKA_ADVERTISED_HOST_NAME: 192.168.0.5
      KAFKA_ZOOKEEPER_CONNECT: zoo1:2181

  trellis:
    image: trellisldp/trellis-app:0.1.0
    container_name: trellis
    ports:
      - "8080:8080"
    volumes:
      - trellis-data-volume:/var/lib/trellis

  trellis-processing:
    image: trellisldp/trellis-processing:0.1.0
    container_name: trellis-processing
    volumes:
      - trellis-data-volume:/var/lib/trellis

volumes:
  trellis-data-volume:


